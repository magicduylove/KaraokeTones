/**
 * AudioControlsView - View component for audio playback controls
 */

import React from 'react';

const AudioControlsView = ({
  hasAudio,
  isPlaying,
  isRecording,
  currentTime = 0,
  duration = 0,
  volume = 1,
  onPlay,
  onPause,
  onStop,
  onSeek,
  onVolumeChange,
  onStartRecording,
  onStopRecording,
  onClearSession
}) => {\n  /**\n   * Format time for display (mm:ss)\n   */\n  const formatTime = (seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  /**\n   * Get playback progress (0-1)\n   */\n  const getProgress = () => {\n    return duration > 0 ? currentTime / duration : 0;\n  };\n\n  /**\n   * Handle seek bar change\n   */\n  const handleSeek = (event) => {\n    if (duration > 0 && onSeek) {\n      const newTime = (event.target.value / 100) * duration;\n      onSeek(newTime);\n    }\n  };\n\n  /**\n   * Handle volume change\n   */\n  const handleVolumeChange = (event) => {\n    if (onVolumeChange) {\n      onVolumeChange(event.target.value / 100);\n    }\n  };\n\n  return (\n    <div className=\"audio-controls-view\">\n      {/* Recording Controls */}\n      <div className=\"recording-controls\">\n        <h3>Practice Controls</h3>\n        <div className=\"control-buttons\">\n          <button\n            onClick={isRecording ? onStopRecording : onStartRecording}\n            className={`record-button ${isRecording ? 'recording' : ''}`}\n            disabled={!hasAudio && !isRecording}\n          >\n            {isRecording ? (\n              <>\n                <span className=\"icon\">üõë</span>\n                Stop Recording\n              </>\n            ) : (\n              <>\n                <span className=\"icon\">üé§</span>\n                Start Recording\n              </>\n            )}\n          </button>\n          \n          <button\n            onClick={onClearSession}\n            className=\"clear-button\"\n            disabled={isRecording}\n          >\n            <span className=\"icon\">üîÑ</span>\n            Clear Session\n          </button>\n        </div>\n      </div>\n\n      {/* Audio Playback Controls */}\n      {hasAudio && (\n        <div className=\"playback-controls\">\n          <h3>Audio Playback</h3>\n          \n          {/* Transport Controls */}\n          <div className=\"transport-controls\">\n            <button\n              onClick={isPlaying ? onPause : onPlay}\n              className=\"play-pause-button\"\n              disabled={isRecording}\n            >\n              {isPlaying ? (\n                <>\n                  <span className=\"icon\">‚è∏Ô∏è</span>\n                  Pause\n                </>\n              ) : (\n                <>\n                  <span className=\"icon\">‚ñ∂Ô∏è</span>\n                  Play\n                </>\n              )}\n            </button>\n            \n            <button\n              onClick={onStop}\n              className=\"stop-button\"\n              disabled={isRecording}\n            >\n              <span className=\"icon\">‚èπÔ∏è</span>\n              Stop\n            </button>\n          </div>\n\n          {/* Progress Bar */}\n          <div className=\"progress-section\">\n            <div className=\"time-display\">\n              <span className=\"current-time\">{formatTime(currentTime)}</span>\n              <span className=\"separator\">/</span>\n              <span className=\"total-time\">{formatTime(duration)}</span>\n            </div>\n            \n            <div className=\"progress-bar-container\">\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                value={getProgress() * 100}\n                onChange={handleSeek}\n                className=\"progress-bar\"\n                disabled={isRecording || duration === 0}\n              />\n            </div>\n          </div>\n\n          {/* Volume Control */}\n          <div className=\"volume-control\">\n            <span className=\"volume-icon\">üîä</span>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={volume * 100}\n              onChange={handleVolumeChange}\n              className=\"volume-slider\"\n            />\n            <span className=\"volume-value\">{Math.round(volume * 100)}%</span>\n          </div>\n        </div>\n      )}\n\n      {/* Status Messages */}\n      <div className=\"status-messages\">\n        {!hasAudio && (\n          <div className=\"status-message info\">\n            üí° Import an audio file to enable playback controls\n          </div>\n        )}\n        \n        {hasAudio && isRecording && (\n          <div className=\"status-message warning\">\n            ‚ö†Ô∏è Audio playback is disabled while recording\n          </div>\n        )}\n      </div>\n\n      <style jsx>{`\n        .audio-controls-view {\n          width: 100%;\n          max-width: 600px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n\n        .recording-controls,\n        .playback-controls {\n          background: #1a1a1a;\n          border-radius: 10px;\n          padding: 20px;\n          margin-bottom: 20px;\n        }\n\n        .recording-controls h3,\n        .playback-controls h3 {\n          color: #fff;\n          margin-bottom: 15px;\n          text-align: center;\n        }\n\n        .control-buttons,\n        .transport-controls {\n          display: flex;\n          gap: 15px;\n          justify-content: center;\n          flex-wrap: wrap;\n        }\n\n        .record-button {\n          padding: 12px 24px;\n          border: none;\n          border-radius: 8px;\n          background: #4CAF50;\n          color: white;\n          cursor: pointer;\n          font-size: 16px;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .record-button.recording {\n          background: #f44336;\n          animation: pulse 1s infinite;\n        }\n\n        .record-button:hover:not(:disabled) {\n          background: #45a049;\n        }\n\n        .record-button.recording:hover:not(:disabled) {\n          background: #d32f2f;\n        }\n\n        .clear-button {\n          padding: 12px 24px;\n          border: none;\n          border-radius: 8px;\n          background: #666;\n          color: white;\n          cursor: pointer;\n          font-size: 16px;\n          transition: background 0.3s ease;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .clear-button:hover:not(:disabled) {\n          background: #777;\n        }\n\n        .play-pause-button,\n        .stop-button {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 6px;\n          background: #2196F3;\n          color: white;\n          cursor: pointer;\n          font-size: 14px;\n          transition: background 0.3s ease;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .stop-button {\n          background: #666;\n        }\n\n        .play-pause-button:hover:not(:disabled) {\n          background: #1976D2;\n        }\n\n        .stop-button:hover:not(:disabled) {\n          background: #777;\n        }\n\n        button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        button:disabled:hover {\n          background: inherit !important;\n        }\n\n        .icon {\n          font-size: 1.1em;\n        }\n\n        .progress-section {\n          margin: 20px 0;\n        }\n\n        .time-display {\n          text-align: center;\n          margin-bottom: 10px;\n          color: #ccc;\n          font-family: monospace;\n        }\n\n        .separator {\n          margin: 0 5px;\n          color: #666;\n        }\n\n        .progress-bar-container {\n          margin: 10px 0;\n        }\n\n        .progress-bar {\n          width: 100%;\n          height: 6px;\n          border-radius: 3px;\n          background: #333;\n          outline: none;\n          -webkit-appearance: none;\n        }\n\n        .progress-bar::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #4CAF50;\n          cursor: pointer;\n        }\n\n        .progress-bar::-moz-range-thumb {\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #4CAF50;\n          cursor: pointer;\n          border: none;\n        }\n\n        .volume-control {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 10px;\n          margin-top: 15px;\n        }\n\n        .volume-icon {\n          font-size: 1.2em;\n        }\n\n        .volume-slider {\n          width: 100px;\n          height: 4px;\n          border-radius: 2px;\n          background: #333;\n          outline: none;\n          -webkit-appearance: none;\n        }\n\n        .volume-slider::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          background: #2196F3;\n          cursor: pointer;\n        }\n\n        .volume-slider::-moz-range-thumb {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          background: #2196F3;\n          cursor: pointer;\n          border: none;\n        }\n\n        .volume-value {\n          color: #ccc;\n          font-size: 0.9em;\n          min-width: 35px;\n          text-align: right;\n        }\n\n        .status-messages {\n          margin-top: 20px;\n        }\n\n        .status-message {\n          padding: 12px 16px;\n          border-radius: 6px;\n          text-align: center;\n          margin-bottom: 10px;\n        }\n\n        .status-message.info {\n          background: rgba(33, 150, 243, 0.1);\n          border: 1px solid #2196F3;\n          color: #2196F3;\n        }\n\n        .status-message.warning {\n          background: rgba(255, 152, 0, 0.1);\n          border: 1px solid #ff9800;\n          color: #ff9800;\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.7; }\n        }\n\n        @media (max-width: 600px) {\n          .audio-controls-view {\n            padding: 10px;\n          }\n          \n          .control-buttons,\n          .transport-controls {\n            flex-direction: column;\n            align-items: center;\n          }\n          \n          .volume-control {\n            flex-direction: column;\n            gap: 5px;\n          }\n          \n          .volume-slider {\n            width: 150px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default AudioControlsView;